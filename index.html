<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Market Size Calculator for GovTech</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif;
            background: linear-gradient(to bottom right, #eff6ff, #e0e7ff);
            min-height: 100vh;
            padding: 1.5rem;
        }

        .container {
            max-width: 1280px;
            margin: 0 auto;
        }

        /* Header Styles */
        .header {
            text-align: center;
            margin-bottom: 2rem;
        }

        .header-flex {
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 0.75rem;
            margin-bottom: 1rem;
        }

        .header h1 {
            font-size: 1.875rem;
            font-weight: bold;
            color: #111827;
        }

        .header p {
            color: #4b5563;
            font-size: 1.125rem;
        }

        /* Icon Styles */
        .icon {
            width: 24px;
            height: 24px;
            fill: currentColor;
        }

        .icon-lg {
            width: 32px;
            height: 32px;
            fill: currentColor;
        }

        .text-blue-600 { color: #2563eb; }
        .text-green-600 { color: #16a34a; }
        .text-purple-600 { color: #9333ea; }

        /* Grid Layout */
        .grid {
            display: grid;
            gap: 1.5rem;
        }

        .grid-cols-1 {
            grid-template-columns: repeat(1, 1fr);
        }

        @media (min-width: 768px) {
            .md\\:grid-cols-2 {
                grid-template-columns: repeat(2, 1fr);
            }
        }

        /* Card Styles */
        .card {
            background: white;
            border-radius: 0.75rem;
            box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05);
            padding: 1.5rem;
        }

        .card-header {
            display: flex;
            align-items: center;
            gap: 0.75rem;
            margin-bottom: 0.5rem;
        }

        .card h3 {
            font-size: 1.125rem;
            font-weight: 600;
            color: #1f2937;
        }

        .card-value {
            font-size: 1.5rem;
            font-weight: bold;
        }

        .card-value.blue { color: #2563eb; }
        .card-value.green { color: #16a34a; }
        .card-value.purple { color: #9333ea; }

        /* Table Styles */
        .table-container {
            overflow-x: auto;
        }

        table {
            width: 100%;
            border-collapse: collapse;
        }

        th {
            text-align: left;
            padding: 0.75rem 1rem;
            font-weight: 600;
            color: #374151;
            border-bottom: 1px solid #e5e7eb;
        }

        th.text-center {
            text-align: center;
        }

        td {
            padding: 0.75rem 1rem;
            color: #6b7280;
        }

        td.text-center {
            text-align: center;
        }

        td.font-medium {
            font-weight: 500;
            color: #1f2937;
        }

        td.font-semibold {
            font-weight: 600;
            color: #1f2937;
        }

        td.font-bold {
            font-weight: bold;
            color: #1f2937;
        }

        tr.bg-gray-50 {
            background-color: #f9fafb;
        }

        tr.bg-white {
            background-color: white;
        }

        tr.bg-blue-50 {
            background-color: #eff6ff;
        }

        tr.border-t-2 {
            border-top: 2px solid #d1d5db;
        }

        .text-green-600 { color: #16a34a; }
        .text-purple-600 { color: #9333ea; }
        .text-lg { font-size: 1.125rem; }

        /* Input Styles */
        input[type="number"] {
            border: 1px solid #d1d5db;
            border-radius: 0.25rem;
            padding: 0.25rem 0.5rem;
            text-align: center;
            font-size: 0.875rem;
        }

        input[type="number"]:focus {
            outline: none;
            border-color: transparent;
            box-shadow: 0 0 0 2px #3b82f6;
        }

        .w-24 { width: 6rem; }
        .w-20 { width: 5rem; }

        /* Section Headers */
        .section-header {
            font-size: 1.25rem;
            font-weight: 600;
            color: #1f2937;
            margin-bottom: 1.5rem;
        }

        /* Base Price Input Styles */
        .base-price-section {
            background: white;
            border-radius: 0.75rem;
            box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05);
            padding: 1.5rem;
            margin-bottom: 2rem;
            text-align: center;
        }

        .base-price-input {
            font-size: 1.25rem;
            padding: 0.75rem 1rem;
            border: 2px solid #d1d5db;
            border-radius: 0.5rem;
            text-align: center;
            width: 200px;
            margin-left: 1rem;
            font-weight: 600;
        }

        .base-price-input:focus {
            outline: none;
            border-color: #3b82f6;
            box-shadow: 0 0 0 3px rgba(59, 130, 246, 0.1);
        }

        .base-price-label {
            font-size: 1.125rem;
            font-weight: 600;
            color: #1f2937;
            display: inline-block;
            vertical-align: middle;
        }
        .explanation {
            margin-top: 2rem;
            background-color: #eff6ff;
            border-radius: 0.75rem;
            padding: 1.5rem;
        }

        .explanation h3 {
            font-size: 1.125rem;
            font-weight: 600;
            color: #1e40af;
            margin-bottom: 0.75rem;
        }

        .explanation-content {
            color: #1e40af;
        }

        .explanation-content p {
            margin-bottom: 0.5rem;
        }

        .explanation-content strong {
            font-weight: 600;
        }

        /* Utility Classes */
        .mb-8 { margin-bottom: 2rem; }
        .mb-6 { margin-bottom: 1.5rem; }
        .mb-4 { margin-bottom: 1rem; }
        .mb-3 { margin-bottom: 0.75rem; }
        .mb-2 { margin-bottom: 0.5rem; }

        .gap-6 { gap: 1.5rem; }
        .gap-3 { gap: 0.75rem; }

        .space-y-2 > * + * {
            margin-top: 0.5rem;
        }

        /* Responsive Design */
        @media (max-width: 768px) {
            body {
                padding: 1rem;
            }
            
            .header h1 {
                font-size: 1.5rem;
            }
            
            .card {
                padding: 1rem;
            }
            
            .table-container {
                font-size: 0.875rem;
            }
            
            th, td {
                padding: 0.5rem;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <!-- Header -->
        <div class="header">
            <div class="header-flex">
                <svg class="ethoslabs-logo" viewBox="0 0 200 40" style="height: 40px; width: auto;">
                    <!-- EthosLabs Logo SVG -->
                    <defs>
                        <linearGradient id="blueGrad" x1="0%" y1="0%" x2="100%" y2="0%">
                            <stop offset="0%" style="stop-color:#3B82F6;stop-opacity:1" />
                            <stop offset="100%" style="stop-color:#1D4ED8;stop-opacity:1" />
                        </linearGradient>
                    </defs>
                    <!-- Geometric shapes -->
                    <rect x="2" y="8" width="20" height="6" fill="url(#blueGrad)" rx="1"/>
                    <rect x="6" y="16" width="12" height="4" fill="url(#blueGrad)" rx="1"/>
                    <rect x="2" y="22" width="18" height="8" fill="#374151" rx="1"/>
                    <!-- Text -->
                    <text x="30" y="25" font-family="Arial, sans-serif" font-size="16" font-weight="300" fill="#374151">ethoslabs</text>
                </svg>
            </div>
            <h1 style="margin-top: 1rem;">Government Technology Market Sizing</h1>
        </div>

        <!-- Base Price Input -->
        <div class="base-price-section">
            <label class="base-price-label" for="base-price">Base Price:</label>
            <input 
                type="number" 
                id="base-price" 
                class="base-price-input"
                value="500"
                min="0"
                step="50"
                onchange="updateBasePricing(this.value)"
            />
            <p style="margin-top: 0.5rem; color: #6b7280; font-size: 0.875rem;">
                All pricing tiers will scale proportionally from this base price
            </p>
        </div>

        <!-- Summary Cards -->
        <div class="grid grid-cols-1 md:grid-cols-2 gap-6 mb-8">
            <div class="card">
                <div class="card-header">
                    <svg class="icon text-green-600" viewBox="0 0 24 24">
                        <path d="M7 15h2c0 1.08 1.37 2 3 2s3-.92 3-2c0-1.1-1.04-1.5-3.24-2.03C9.64 12.44 7 11.78 7 9c0-1.79 1.47-3.31 3.5-3.82V3h3v2.18C15.53 5.69 17 7.21 17 9h-2c0-1.08-1.37-2-3-2s-3 .92-3 2c0 1.1 1.04 1.5 3.24 2.03C14.36 11.56 17 12.22 17 15c0 1.79-1.47 3.31-3.5 3.82V21h-3v-2.18C8.47 18.31 7 16.79 7 15z"/>
                    </svg>
                    <h3>Total TAM</h3>
                </div>
                <p id="total-tam" class="card-value green">$0</p>
            </div>
            
            <div class="card">
                <div class="card-header">
                    <svg class="icon text-purple-600" viewBox="0 0 24 24">
                        <path d="M16 6l2.29 2.29-4.88 4.88-4-4L2 16.59 3.41 18l6-6 4 4 6.3-6.29L22 12V6z"/>
                    </svg>
                    <h3>Total SAM</h3>
                </div>
                <p id="total-sam" class="card-value purple">$0</p>
            </div>
        </div>

        <!-- Input Controls -->
        <div class="card mb-8">
            <h2 class="section-header">Adjust Pricing & Adoption Rates</h2>
            
            <div class="table-container">
                <table>
                    <thead>
                        <tr>
                            <th>Government Size</th>
                            <th class="text-center">Cities</th>
                            <th class="text-center">Counties</th>
                            <th class="text-center">Total</th>
                            <th class="text-center">Price ($)</th>
                            <th class="text-center">Adoption Rate (%)</th>
                        </tr>
                    </thead>
                    <tbody id="input-table-body">
                        <!-- Populated by JavaScript -->
                    </tbody>
                </table>
            </div>
        </div>

        <!-- Results Table -->
        <div class="card">
            <h2 class="section-header">Market Analysis Results</h2>
            
            <div class="table-container">
                <table>
                    <thead>
                        <tr>
                            <th>Government Size</th>
                            <th class="text-center">Total Governments</th>
                            <th class="text-center">Price</th>
                            <th class="text-center">TAM</th>
                            <th class="text-center">Adoption Rate</th>
                            <th class="text-center">SAM</th>
                        </tr>
                    </thead>
                    <tbody id="results-table-body">
                        <!-- Populated by JavaScript -->
                    </tbody>
                </table>
            </div>
        </div>

        <!-- Explanation -->
        <div class="explanation">
            <h3>How to Use This Calculator</h3>
            <div class="explanation-content">
                <div class="space-y-2">
                    <p><strong>TAM (Total Addressable Market):</strong> The total revenue opportunity if you captured 100% of the market. Calculated as: Total Governments × Price per Government</p>
                    <p><strong>SAM (Serviceable Addressable Market):</strong> The realistic market opportunity based on adoption rates. Calculated as: TAM × Adoption Rate</p>
                    <p><strong>Government Categories:</strong> Based on population size, with data showing the actual number of US cities and counties in each category.</p>
                    <p><strong>Adjust the inputs above</strong> to see how different pricing strategies and adoption rate assumptions affect your market opportunity.</p>
                </div>
            </div>
        </div>
    </div>

    <script>
        // Government data from the spreadsheet
        const governmentData = [
            { category: '<2.5k', cities: 12723, counties: 140, total: 12863 },
            { category: '2.5k-5k', cities: 2068, counties: 170, total: 2238 },
            { category: '5k-10k', cities: 1671, counties: 401, total: 2072 },
            { category: '10k-25k', cities: 1555, counties: 823, total: 2378 },
            { category: '25k-50k', cities: 736, counties: 621, total: 1357 },
            { category: '50k-100k', cities: 454, counties: 390, total: 844 },
            { category: '100k-250k', cities: 220, counties: 324, total: 544 },
            { category: '250k-500k', cities: 49, counties: 132, total: 181 },
            { category: '500k-1M', cities: 24, counties: 97, total: 121 },
            { category: '1M+', cities: 10, counties: 41, total: 51 }
        ];

        // Price multipliers for each category (based on base price of $500)
        const priceMultipliers = {
            '<2.5k': 1,
            '2.5k-5k': 1,
            '5k-10k': 1.5,
            '10k-25k': 2,
            '25k-50k': 4,
            '50k-100k': 5,
            '100k-250k': 7,
            '250k-500k': 10,
            '500k-1M': 15,
            '1M+': 20
        };

        // Base price (default $500)
        let basePrice = 500;

        // Calculate pricing based on base price and multipliers
        function calculatePricing(base) {
            const newPricing = {};
            Object.keys(priceMultipliers).forEach(category => {
                newPricing[category] = base * priceMultipliers[category];
            });
            return newPricing;
        }

        // Default pricing and adoption rates
        let pricing = calculatePricing(basePrice);

        let adoptionRates = {
            '<2.5k': 0.1,
            '2.5k-5k': 0.2,
            '5k-10k': 2.0,
            '10k-25k': 10.0,
            '25k-50k': 10.0,
            '50k-100k': 15.0,
            '100k-250k': 15.0,
            '250k-500k': 15.0,
            '500k-1M': 20.0,
            '1M+': 25.0
        };

        // Utility functions
        function formatCurrency(amount) {
            return new Intl.NumberFormat('en-US', {
                style: 'currency',
                currency: 'USD',
                minimumFractionDigits: 0,
                maximumFractionDigits: 0
            }).format(amount);
        }

        function formatNumber(num) {
            return new Intl.NumberFormat('en-US').format(num);
        }

        // Calculate totals and update display
        function calculateAndUpdate() {
            const calculations = governmentData.map(gov => {
                const price = pricing[gov.category];
                const adoptionRate = adoptionRates[gov.category] / 100;
                const tam = gov.total * price;
                const sam = tam * adoptionRate;
                
                return {
                    ...gov,
                    price,
                    adoptionRate: adoptionRates[gov.category],
                    tam,
                    sam
                };
            });

            const totals = calculations.reduce(
                (acc, calc) => ({
                    tam: acc.tam + calc.tam,
                    sam: acc.sam + calc.sam
                }),
                { tam: 0, sam: 0 }
            );

            updateSummaryCards(totals);
            updateResultsTable(calculations, totals);
        }

        // Update summary cards
        function updateSummaryCards(totals) {
            document.getElementById('total-tam').textContent = formatCurrency(totals.tam);
            document.getElementById('total-sam').textContent = formatCurrency(totals.sam);
        }

        // Create input table
        function createInputTable() {
            const tbody = document.getElementById('input-table-body');
            tbody.innerHTML = '';

            governmentData.forEach((gov, index) => {
                const row = document.createElement('tr');
                row.className = index % 2 === 0 ? 'bg-gray-50' : 'bg-white';
                
                row.innerHTML = `
                    <td class="font-medium">${gov.category}</td>
                    <td class="text-center">${formatNumber(gov.cities)}</td>
                    <td class="text-center">${formatNumber(gov.counties)}</td>
                    <td class="text-center font-semibold">${formatNumber(gov.total)}</td>
                    <td class="text-center">
                        <input
                            type="number"
                            value="${pricing[gov.category]}"
                            onchange="updatePricing('${gov.category}', this.value)"
                            class="w-24"
                            min="0"
                            step="100"
                        />
                    </td>
                    <td class="text-center">
                        <input
                            type="number"
                            value="${adoptionRates[gov.category]}"
                            onchange="updateAdoption('${gov.category}', this.value)"
                            class="w-20"
                            min="0"
                            max="100"
                            step="0.1"
                        />
                    </td>
                `;
                
                tbody.appendChild(row);
            });
        }

        // Update results table
        function updateResultsTable(calculations, totals) {
            const tbody = document.getElementById('results-table-body');
            tbody.innerHTML = '';

            calculations.forEach((calc, index) => {
                const row = document.createElement('tr');
                row.className = index % 2 === 0 ? 'bg-gray-50' : 'bg-white';
                
                row.innerHTML = `
                    <td class="font-medium">${calc.category}</td>
                    <td class="text-center">${formatNumber(calc.total)}</td>
                    <td class="text-center">${formatCurrency(calc.price)}</td>
                    <td class="text-center font-semibold text-green-600">${formatCurrency(calc.tam)}</td>
                    <td class="text-center">${calc.adoptionRate}%</td>
                    <td class="text-center font-semibold text-purple-600">${formatCurrency(calc.sam)}</td>
                `;
                
                tbody.appendChild(row);
            });

            // Add totals row
            const totalRow = document.createElement('tr');
            totalRow.className = 'border-t-2 bg-blue-50';
            
            const totalGovs = governmentData.reduce((sum, gov) => sum + gov.total, 0);
            
            totalRow.innerHTML = `
                <td class="font-bold">TOTALS</td>
                <td class="text-center font-bold">${formatNumber(totalGovs)}</td>
                <td></td>
                <td class="text-center font-bold text-green-600 text-lg">${formatCurrency(totals.tam)}</td>
                <td></td>
                <td class="text-center font-bold text-purple-600 text-lg">${formatCurrency(totals.sam)}</td>
            `;
            
            tbody.appendChild(totalRow);
        }

        // Event handlers
        function updateBasePricing(value) {
            basePrice = Number(value) || 500;
            pricing = calculatePricing(basePrice);
            
            // Update the input table with new pricing
            createInputTable();
            calculateAndUpdate();
        }

        function updatePricing(category, value) {
            pricing[category] = Number(value) || 0;
            calculateAndUpdate();
        }

        function updateAdoption(category, value) {
            adoptionRates[category] = Number(value) || 0;
            calculateAndUpdate();
        }

        // Initialize the application
        function init() {
            createInputTable();
            calculateAndUpdate();
        }

        // Start the application when the page loads
        document.addEventListener('DOMContentLoaded', init);
    </script>
</body>
</html>